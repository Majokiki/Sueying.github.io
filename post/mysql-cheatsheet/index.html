<html>

<head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>
    MySQL cheatsheet | ajslpzcd
</title>
<link rel="shortcut icon" href="https://sueying.github.io//favicon.ico?v=1598164910837">
<!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous"> -->
<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://sueying.github.io//styles/main.css">
<!-- js -->
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<script src="https://sueying.github.io//media/js/jquery.sticky-sidebar.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>


        
</head>

<body>
    <div class="main">
        <div class="header">
    <div class="nav">
        <div class="logo">
            <a href="https://sueying.github.io/">
                <img class="avatar" src="https://sueying.github.io//images/avatar.png?v=1598164910837" alt="">
            </a>
            <div class="site-title">
                <h1>
                    ajslpzcd
                </h1>
            </div>
        </div>
        <span class="menu-btn fa fa-align-justify"></span>
        <div class="menu-container">
            <ul>
                
                    
                            <li>
                                <a href="/" class="menu">
                                    首页
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/archives" class="menu">
                                    归档
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/tags" class="menu">
                                    标签
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/post/about" class="menu">
                                    关于
                                </a>
                            </li>
                            
                                
            </ul>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        $(".menu-btn").click(function() {
            $(".menu-container").slideToggle();
        });
        $(window).resize(function() {

            if (window.matchMedia('(min-width: 960px)').matches) {
                $(".menu-container").css('display', 'block')
            } else {
                $(".menu-container").css('display', 'none')
            }

        });
    });
</script>

            <div id="main-content" class="post-detail main-container">
                <!-- left -->
                <div id="content" class="main-container-left">
                    <article class="post i-card">
                        <h2 class="post-title">
                            MySQL cheatsheet
                        </h2>
                        <div class="post-info">
                            <time class="post-time">2020-05-12</time>
                            
                        </div>
                        
                                <div class="post-content">
                                    <p>一些 MySQL基本操作，帮助回忆MySQL语法</p>
<!-- more -->
<blockquote>
<p>转载自 Brad Traversy: <a href="https://gist.github.com/bradtraversy/c831baaad44343cc945e76c2e30927b3">MySQL cheatsheet</a><br>
<a href="https://www.youtube.com/watch?v=9ylj9NR0Lcg">Brad Traversy的MySQL视频</a></p>
</blockquote>
<hr>
<h2 id="mysql-locations">MySQL Locations</h2>
<ul>
<li>Mac             <em>/usr/local/mysql/bin</em></li>
<li>Windows         <em>/Program Files/MySQL/MySQL <em>version</em>/bin</em></li>
<li>Xampp           <em>/xampp/mysql/bin</em></li>
</ul>
<h2 id="add-mysql-to-your-path">Add mysql to your PATH</h2>
<pre><code class="language-bash"># 在任何working directory下都能打开 mysql
# Current Session
export PATH=${PATH}:/usr/local/mysql/bin
# Permanantly
echo 'export PATH=&quot;/usr/local/mysql/bin:$PATH&quot;' &gt;&gt; ~/.bash_profile
</code></pre>
<p>On Windows - https://www.qualitestgroup.com/resources/knowledge-center/how-to-guide/add-mysql-path-windows/</p>
<h2 id="login">Login</h2>
<pre><code class="language-bash">mysql -u root -p
</code></pre>
<h2 id="show-users">Show Users</h2>
<pre><code class="language-sql">SELECT User, Host FROM mysql.user;
</code></pre>
<h2 id="create-user">Create User</h2>
<pre><code class="language-sql">CREATE USER 'someuser'@'localhost' IDENTIFIED BY 'somepassword';
</code></pre>
<h2 id="grant-all-priveleges-on-all-databases">Grant All Priveleges On All Databases</h2>
<pre><code class="language-sql">GRANT ALL PRIVILEGES ON * . * TO 'someuser'@'localhost';
FLUSH PRIVILEGES;
</code></pre>
<h2 id="show-grants">Show Grants</h2>
<pre><code class="language-sql">SHOW GRANTS FOR 'someuser'@'localhost';
</code></pre>
<h2 id="remove-grants">Remove Grants</h2>
<pre><code class="language-sql">REVOKE ALL PRIVILEGES, GRANT OPTION FROM 'someuser'@'localhost';
</code></pre>
<h2 id="delete-user">Delete User</h2>
<pre><code class="language-sql">DROP USER 'someuser'@'localhost';
</code></pre>
<h2 id="exit">Exit</h2>
<pre><code class="language-sql">exit;
</code></pre>
<h2 id="show-databases">Show Databases</h2>
<pre><code class="language-sql">SHOW DATABASES
</code></pre>
<h2 id="create-database">Create Database</h2>
<pre><code class="language-sql">CREATE DATABASE acme;
</code></pre>
<h2 id="delete-database">Delete Database</h2>
<pre><code class="language-sql">DROP DATABASE acme;
</code></pre>
<h2 id="select-database">Select Database</h2>
<pre><code class="language-sql">USE acme;
</code></pre>
<h2 id="create-table">Create Table</h2>
<pre><code class="language-sql">CREATE TABLE users(
id INT AUTO_INCREMENT,
   first_name VARCHAR(100),
   last_name VARCHAR(100),
   email VARCHAR(50),
   password VARCHAR(20),
   location VARCHAR(100),
   dept VARCHAR(100),
   is_admin TINYINT(1),
   register_date DATETIME,
   PRIMARY KEY(id)
);
</code></pre>
<h2 id="delete-drop-table">Delete / Drop Table</h2>
<pre><code class="language-sql">DROP TABLE tablename;
</code></pre>
<h2 id="show-tables">Show Tables</h2>
<pre><code class="language-sql">SHOW TABLES;
</code></pre>
<h2 id="insert-row-record">Insert Row / Record</h2>
<pre><code class="language-sql">INSERT INTO users (first_name, last_name, email, password, location, dept, is_admin, register_date) values ('Brad', 'Traversy', 'brad@gmail.com', '123456','Massachusetts', 'development', 1, now());
</code></pre>
<h2 id="insert-multiple-rows">Insert Multiple Rows</h2>
<pre><code class="language-sql">INSERT INTO users (first_name, last_name, email, password, location, dept,  is_admin, register_date) values ('Fred', 'Smith', 'fred@gmail.com', '123456', 'New York', 'design', 0, now()), ('Sara', 'Watson', 'sara@gmail.com', '123456', 'New York', 'design', 0, now()),('Will', 'Jackson', 'will@yahoo.com', '123456', 'Rhode Island', 'development', 1, now()),('Paula', 'Johnson', 'paula@yahoo.com', '123456', 'Massachusetts', 'sales', 0, now()),('Tom', 'Spears', 'tom@yahoo.com', '123456', 'Massachusetts', 'sales', 0, now());
</code></pre>
<h2 id="select">Select</h2>
<pre><code class="language-sql">SELECT * FROM users;
SELECT first_name, last_name FROM users;
</code></pre>
<h2 id="where-clause">Where Clause</h2>
<pre><code class="language-sql">SELECT * FROM users WHERE location='Massachusetts';
SELECT * FROM users WHERE location='Massachusetts' AND dept='sales';
SELECT * FROM users WHERE is_admin = 1;
SELECT * FROM users WHERE is_admin &gt; 0;
</code></pre>
<h2 id="delete-row">Delete Row</h2>
<pre><code class="language-sql">DELETE FROM users WHERE id = 6;
</code></pre>
<h2 id="update-row">Update Row</h2>
<pre><code class="language-sql">UPDATE users SET email = 'freddy@gmail.com' WHERE id = 2;

</code></pre>
<h2 id="add-new-column">Add New Column</h2>
<pre><code class="language-sql">ALTER TABLE users ADD age VARCHAR(3);
</code></pre>
<h2 id="modify-column">Modify Column</h2>
<pre><code class="language-sql">ALTER TABLE users MODIFY COLUMN age INT(3);
</code></pre>
<h2 id="order-by-sort">Order By (Sort)</h2>
<pre><code class="language-sql">SELECT * FROM users ORDER BY last_name ASC;
SELECT * FROM users ORDER BY last_name DESC;
</code></pre>
<h2 id="concatenate-columns">Concatenate Columns</h2>
<pre><code class="language-sql">SELECT CONCAT(first_name, ' ', last_name) AS 'Name', dept FROM users;

</code></pre>
<h2 id="select-distinct-rows">Select Distinct Rows</h2>
<pre><code class="language-sql">SELECT DISTINCT location FROM users;

</code></pre>
<h2 id="between-select-range">Between (Select Range)</h2>
<pre><code class="language-sql">SELECT * FROM users WHERE age BETWEEN 20 AND 25;
</code></pre>
<h2 id="like-searching">Like (Searching)</h2>
<pre><code class="language-sql">SELECT * FROM users WHERE dept LIKE 'd%';
SELECT * FROM users WHERE dept LIKE 'dev%';
SELECT * FROM users WHERE dept LIKE '%t';
SELECT * FROM users WHERE dept LIKE '%e%';
</code></pre>
<h2 id="not-like">Not Like</h2>
<pre><code class="language-sql">SELECT * FROM users WHERE dept NOT LIKE 'd%';
</code></pre>
<h2 id="in">IN</h2>
<pre><code class="language-sql">SELECT * FROM users WHERE dept IN ('design', 'sales');
</code></pre>
<h2 id="create-remove-index">Create &amp; Remove Index</h2>
<pre><code class="language-sql">CREATE INDEX LIndex On users(location);
DROP INDEX LIndex ON users;
</code></pre>
<h2 id="new-table-with-foreign-key-posts">New Table With Foreign Key (Posts)</h2>
<pre><code class="language-sql">CREATE TABLE posts(
id INT AUTO_INCREMENT,
   user_id INT,
   title VARCHAR(100),
   body TEXT,
   publish_date DATETIME DEFAULT CURRENT_TIMESTAMP,
   PRIMARY KEY(id),
   FOREIGN KEY (user_id) REFERENCES users(id)
);
</code></pre>
<h2 id="add-data-to-posts-table">Add Data to Posts Table</h2>
<pre><code class="language-sql">INSERT INTO posts(user_id, title, body) VALUES (1, 'Post One', 'This is post one'),(3, 'Post Two', 'This is post two'),(1, 'Post Three', 'This is post three'),(2, 'Post Four', 'This is post four'),(5, 'Post Five', 'This is post five'),(4, 'Post Six', 'This is post six'),(2, 'Post Seven', 'This is post seven'),(1, 'Post Eight', 'This is post eight'),(3, 'Post Nine', 'This is post none'),(4, 'Post Ten', 'This is post ten');
</code></pre>
<h2 id="inner-join">INNER JOIN</h2>
<pre><code class="language-sql">SELECT
  users.first_name,
  users.last_name,
  posts.title,
  posts.publish_date
FROM users
INNER JOIN posts
ON users.id = posts.user_id
ORDER BY posts.title;
</code></pre>
<h2 id="new-table-with-2-foriegn-keys">New Table With 2 Foriegn Keys</h2>
<pre><code class="language-sql">CREATE TABLE comments(
	id INT AUTO_INCREMENT,
    post_id INT,
    user_id INT,
    body TEXT,
    publish_date DATETIME DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY(id),
    FOREIGN KEY(user_id) references users(id),
    FOREIGN KEY(post_id) references posts(id)
);
</code></pre>
<h2 id="add-data-to-comments-table">Add Data to Comments Table</h2>
<pre><code class="language-sql">INSERT INTO comments(post_id, user_id, body) VALUES (1, 3, 'This is comment one'),(2, 1, 'This is comment two'),(5, 3, 'This is comment three'),(2, 4, 'This is comment four'),(1, 2, 'This is comment five'),(3, 1, 'This is comment six'),(3, 2, 'This is comment six'),(5, 4, 'This is comment seven'),(2, 3, 'This is comment seven');
</code></pre>
<h2 id="left-join">Left Join</h2>
<pre><code class="language-sql">SELECT
comments.body,
posts.title
FROM comments
LEFT JOIN posts ON posts.id = comments.post_id
ORDER BY posts.title;

</code></pre>
<h2 id="join-multiple-tables">Join Multiple Tables</h2>
<pre><code class="language-sql">SELECT
comments.body,
posts.title,
users.first_name,
users.last_name
FROM comments
INNER JOIN posts on posts.id = comments.post_id
INNER JOIN users on users.id = comments.user_id
ORDER BY posts.title;

</code></pre>
<h2 id="aggregate-functions">Aggregate Functions</h2>
<pre><code class="language-sql">SELECT COUNT(id) FROM users;
SELECT MAX(age) FROM users;
SELECT MIN(age) FROM users;
SELECT SUM(age) FROM users;
SELECT UCASE(first_name), LCASE(last_name) FROM users;

</code></pre>
<h2 id="group-by">Group By</h2>
<pre><code class="language-sql">SELECT age, COUNT(age) FROM users GROUP BY age;
SELECT age, COUNT(age) FROM users WHERE age &gt; 20 GROUP BY age;
SELECT age, COUNT(age) FROM users GROUP BY age HAVING count(age) &gt;=2;
</code></pre>

                                </div>
                    </article>
                    <!--  -->
                    
                        <div class="next-post">
                            <div class="next">下一篇</div>
                            <a href="https://sueying.github.io/post/punctuation_mark/">
                                <h3 class="post-title">
                                    常用标点符号的英文名字
                                </h3>
                            </a>
                        </div>
                        
                            <div id="disqus_thread"></div>
                            <div id="gitalk-container"></div>
                </div>
                <!-- middle -->
                <div class="main-container-middle"></div>
                <!-- right -->
                <div id="sidebar" class="main-container-right">
                    
                        <!-- toc -->
                        
    <div class="toc-card i-card ">
        <div class="toc-title i-card-title">目录</div>
        <div class="toc-content">
            <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#mysql-locations">MySQL Locations</a></li>
<li><a href="#add-mysql-to-your-path">Add mysql to your PATH</a></li>
<li><a href="#login">Login</a></li>
<li><a href="#show-users">Show Users</a></li>
<li><a href="#create-user">Create User</a></li>
<li><a href="#grant-all-priveleges-on-all-databases">Grant All Priveleges On All Databases</a></li>
<li><a href="#show-grants">Show Grants</a></li>
<li><a href="#remove-grants">Remove Grants</a></li>
<li><a href="#delete-user">Delete User</a></li>
<li><a href="#exit">Exit</a></li>
<li><a href="#show-databases">Show Databases</a></li>
<li><a href="#create-database">Create Database</a></li>
<li><a href="#delete-database">Delete Database</a></li>
<li><a href="#select-database">Select Database</a></li>
<li><a href="#create-table">Create Table</a></li>
<li><a href="#delete-drop-table">Delete / Drop Table</a></li>
<li><a href="#show-tables">Show Tables</a></li>
<li><a href="#insert-row-record">Insert Row / Record</a></li>
<li><a href="#insert-multiple-rows">Insert Multiple Rows</a></li>
<li><a href="#select">Select</a></li>
<li><a href="#where-clause">Where Clause</a></li>
<li><a href="#delete-row">Delete Row</a></li>
<li><a href="#update-row">Update Row</a></li>
<li><a href="#add-new-column">Add New Column</a></li>
<li><a href="#modify-column">Modify Column</a></li>
<li><a href="#order-by-sort">Order By (Sort)</a></li>
<li><a href="#concatenate-columns">Concatenate Columns</a></li>
<li><a href="#select-distinct-rows">Select Distinct Rows</a></li>
<li><a href="#between-select-range">Between (Select Range)</a></li>
<li><a href="#like-searching">Like (Searching)</a></li>
<li><a href="#not-like">Not Like</a></li>
<li><a href="#in">IN</a></li>
<li><a href="#create-remove-index">Create &amp; Remove Index</a></li>
<li><a href="#new-table-with-foreign-key-posts">New Table With Foreign Key (Posts)</a></li>
<li><a href="#add-data-to-posts-table">Add Data to Posts Table</a></li>
<li><a href="#inner-join">INNER JOIN</a></li>
<li><a href="#new-table-with-2-foriegn-keys">New Table With 2 Foriegn Keys</a></li>
<li><a href="#add-data-to-comments-table">Add Data to Comments Table</a></li>
<li><a href="#left-join">Left Join</a></li>
<li><a href="#join-multiple-tables">Join Multiple Tables</a></li>
<li><a href="#aggregate-functions">Aggregate Functions</a></li>
<li><a href="#group-by">Group By</a></li>
</ul>
</li>
</ul>

        </div>
        <script>
            function locateCatelogList() {
                /*获取文章目录集合,可通过:header过滤器*/
                var alis = $('.post-content :header');
                /*获取侧边栏目录列表集合**/
                var sidebar_alis = $('.markdownIt-TOC a');
                /*获取滚动条到顶部的距离*/
                var scroll_height = $(window).scrollTop();
                for (var i = 0; i < alis.length; i++) {
                    /*获取锚点集合中的元素分别到顶点的距离*/
                    var a_height = $(alis[i]).offset().top;
                    if (a_height < scroll_height) {
                        /*高亮显示*/
                        sidebar_alis.removeClass('on');
                        $(sidebar_alis[i]).addClass('on');
                    }
                }
            }
            $(function() {
                /*绑定滚动事件 */
                $(window).bind('scroll', locateCatelogList);
            });
        </script>
    </div>
    
                            

                </div>




            </div>


            <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | 
  <a class="rss" href="https://sueying.github.io//atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>


    </div>
    <script>
        $('#sidebar').stickySidebar({
            topSpacing: 80,
            // bottomSpacing: 60
        });
    </script>
    
</body>

</html>